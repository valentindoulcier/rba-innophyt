\documentclass[twoside]{EPURapport}
\input{include.tex}

\usepackage[utf8]{inputenc}

\usepackage{hyperref}

\thedocument{Projet d'option web}{Évolution d'un classifieur multimédia, interactif et en ligne}{Projet d'option web - Évolution d'un classifieur multimédia, interactif et en ligne}

\grade{Département Informatique\\ 5\ieme{} année\\ 2012 - 2013}

\authors{%
	\category{Étudiants}{%
		\name{Adrien BATAILLE} \mail{adrien.bataille@etu.univ-tours.fr}
		\name{Valentin DOULCIER} \mail{valentin.doulcier@etu.univ-tours.fr}
	}
	\details{DI5 2012 - 2013}
}

\supervisors{%
	\category{Encadrants}{%
		\name{Gilles VENTURINI} \mail{gilles.venturini@univ-tours.fr}
		\name{Fabienne DALINO} \mail{fabienne.dalino@gmail.com}
	}
	\details{Université François-Rabelais, Tours}
}

\abstracts{Description en français}
{Mots clés en Français}
{Description en anglais}
{Mots clés en anglais}

\begin{document}


\chapter{Introduction}

Ce présent document est un rapport de projet se rattachant à l'option Web \& Multimédia. Il a pour but de présenter à la fois les demandes du client, mais aussi le travaille effectué ainsi que les process mis en place.
	
Notre projet s'effectue par binôme dans le cadre de notre formation en dernière année au département informatique de Polytech' TOURS.\\

Le client de notre projet est l'équipe INNOPHYT. Cette équipe fait partie de l'Université François Rabelais de Tours et est consacrée aux activités de valorisation et de recherche dans le domaine de la lutte anti-parasitaire durable. Nos encadrants de projet sont Gilles VENTURINI ainsi que Fabienne DALINO. N'ayant pas de contact avec le client, ils sont des interlocuteurs pour les aspects techniques et opérationnels.

	\section{Contexte}
	
	L'enjeu global du projet est mettre à disposition de l'équipe INNOPHYT un outil performant d'aide à la décision de reconnaissance d'insecte, et plus précisément, de savoir si une espèce est nuisible ou non.\\
	
	Anciennement, l'équipe INNOPHYT utilisait un fichier Excel qui répertoriait l'ensemble des questions à se poser pour arriver à un résultat. Ces questions étaient disposées sous une forme d'une arborescence compliquée. Ce système étant quelque peu archaïque et n'étant pas vraiment ergonomique, un premier projet collectif s'est donc inscrit dans ce sens en modernisant l'outil (Développement d'une application android). Suite à cette application, décuplant les performances et les fonctionnalités, la question du site web dédié s'est posée. En réponse, un projet web s'est donc mis en place, et à répondu partiellement à l'ensemble des besoins énoncés.\\
	
	Les futurs utilisateurs de l'application dans sa version site web sont nombreux. Ils peuvent être aussi bien des ingénieurs ou des spécialistes du domaines (biologiste de terrain, membre de l"équipe INNOPHYT...) que des utilisateurs lambda n'ayant pas de connaissances particulières (agriculteur, passionné des insectes...). A ce titre, la version web de l'application pourra s'utiliser à titre pédagogique, et pourra servir d'outils de formation et de découverte.	
	
	\section{Objectif}
	
	Notre projet s'inscrit dans la continuité d'un projet débuté l'année dernière, dans le même contexte éducatif que nous, et dont le but était de développer la structure du site.\\
	
	L'objectif est donc de fournir une application web reproduisant les spécificités de l'application android. Principalement, le but de notre projet est, à partir de la lecture d'un fichier XML représentant un arbre de décision, de permettre à l'utilisateur  de naviguer dans cet arbre dans le but de trouver l'insecte qu'il observe.\\
	
	Le site web calquera son interface ergonomique et convivial sur celle de la tablette. Ainsi, l'utilisateur jonglant entre les deux plateformes ne sera pas perdu en passant de l'une à l'autre. Nous implémenterons donc l'ensemble des fonctionnalités présentes sur la tablette, afin que l'utilisation ne soit en rien différente.

	\section{Contraintes technologiques}
	
	Dans notre cas, les termes "Contraintes Technologiques" ont pris tous leurs sens. En effet, notre projet s'inscrivant dans la suite d'un projet préalablement commencé, nous avons été obligé de réutiliser certaines librairies mises en place ainsi que certaines technologies.\\

	\begin{itemize}
		\item \textbf{Bootstrap} : Dans le but de poser les bases du design, la librairie Bootstrap a été choisie. Il s'agit de la bibliothèque développée et utilisée par le célèbre Twitter. En plus des feuilles de style CSS, Bootstrap comprend un certain nombre de composants intéressants comme des boutons, des menus, une barre de chargement... Il contient aussi quelques plugins JavaScript comme le Carrousel, qui ont servi à l'affichage des galeries de médias.\\
		
		\item \textbf{Shadowbox} : Cette librairie permet de lire tous types d'objets multimédias (vidéo, son, image) dans une fenêtre modale, et ainsi de profiter de toute la largeur de l'écran. Elle est toutefois très limitée dans l'interaction dynamique avec un serveur, notamment dans le cadre de chargement de formulaire.\\
		
		\item \textbf{Flash} : Pour l'affichage de la webcam, il s'agit d'un code minimaliste en Flash. En effet, cela permet de démarrer la webcam après autorisation de l'utilisateur, et d'afficher simplement à l'écran l'image filmée en temps réel.\\
		
		\item \textbf{Ajax} : Permet de rendre l'interface plus conviviale, nous avons décidé de mettre en place une architecture AJAX. Cela permet notamment de supprimer les rechargements de pages inutiles. Le problème rencontré est que tout le site a été passé en AJAX, ce qui ne facilite absolument pas la navigation (gestion des pages précédentes...).\\
		
		\item \textbf{jQuery} : Nous avons utilisé JQuery et ses fonctions spécialisées dans l'architecture AJAX pour simplifier la gestion de notre application. Aussi, certaines fonctionnalités de Jquery (à savoir Jqplot), nous ont permis de générer facilement les graphiques demandés.\\
	\end{itemize}
	
	Différents problèmes ont été rencontré avec ces contraintes, ils sont respectivement détaillés dans la parties concernant les librairies \ref{lib}.



\chapter{Architecture}

Dans cette partie, nous allons détailler les différents points sur lesquelles nous avons travaillé ainsi que les problèmes rencontrés. De plus, nous verrons toutes les librairies utilisées au sein de ce projet ainsi que des explications plus complètes sur les problèmes et avantages de celles-ci.

	\section{Le site rba-innophyt}
	
		\subsection{Login}
			\subsubsection{Sécurité}
			\subsubsection{Footer}
		\subsection{Menu}
		\subsection{Campagne / Parcelle / Pièges}
		\subsection{Arbre de décision}
		\subsection{Mosaïque}
		\subsection{Export}
		\subsection{Administration}
		\subsection{À propos}

	\section{Arborescence}
	Dès la prise en main du projet, nous avons choisis de modifier de A à Z l'arborescence de base de ce projet. En effet, celle-ci ne permettait pas d'avoir une solution propre et viable sur le terme. De ce fait nous avons regroupé les fichiers CSS et JavaScript respectivement dans les dossiers \emph{css} et \emph{js}. Toutes les images, hormis celles utilisées pour l'arbre de décision et la mosaïque sont dans le dossier \emph{images}. Enfin, les librairies qui avait chacune leur dossier ont été divisées entre plusieurs dossiers. En effet, leurs fichiers CSS et JavaScript ont été mis dans les dossiers correspondant, et les fichiers spécifiques ont été déplacé dans un dossier \emph{lib}.\\

	Ces modifications permettent une meilleure évolution du site et facilite l'ajout de module et partie. Voici plus en détail le contenu des différents dossiers.

		\subsection{arbres}
		Ce dossier contient à sa racine le fichier \emph{arbre.dtd} permettant de contrôler la structure des xml contenant les arbres de décision. Il y a aussi la présence d'un dossier \emph{medias} contenant toute les images originales de l'arbre. Quant à lui, \emph{thumbnail} contient toutes les miniatures générées et utilisées pour l'affichage de la mosaïque ou des photos galeries dans l'arbre de décision.
		
		\subsection{css}
		Ce dossier contient tous les fichiers css utilisés pour le style du site. Aussi bien pour les librairies (\emph{Bootstrap} \ref{lib:bootstrap}, \emph{jqPlot} \ref{lib:jqplot}, \emph{jQuery UI} \ref{lib:jqueryui} et \emph{Shadowbox} \ref{lib:shadowbox}) que le fichier \emph{syle.css} où est le style personnalisé du site.
		
		\subsection{documents}
		Ce dossier contient tous les fichiers annexes utilisés sur le site tel que la liste des protocoles ou le guide utilisateur de la plate-forme web.
		
		\subsection{images}
		Ce dossier contient toutes les petites images et icônes utilisées sur le site comme par exemple pour le menu, les marqueurs Google Map \ldots
		
		\subsection{js}
		Ce dossier contient tous les fichiers JavaScript utilisés dans le site. Aussi bien pour les librairies (\emph{Bootstrap} \ref{lib:bootstrap}, \emph{jQuery} \ref{lib:jquery}, \emph{jqPlot} \ref{lib:jqplot}, \emph{jQuery UI} \ref{lib:jqueryui} et \emph{Shadowbox} \ref{lib:shadowbox}) que les fichiers propres à chacune des parties du site.
		
		\subsection{lib}
		Ce dossier contient les fichiers propres aux différentes librairies utilisés dans le site comme pour la webcam et le player pour les fichiers multimédias de la pop-up shadowbox.
		
		\subsection{pages}
		Ce dossier contient les fichiers php qui correspondent respectivement aux différentes pages du sites.
		
			\subsubsection{part}
			Ce sous-dossier contient toutes les différentes sous-parties qui se retrouve dans toutes les pages comme par exemple le \emph{header}, le \emph{footer} \ldots
		
		\subsection{php\_script}
		Ce dossier contient tous les fichiers php qui sont utilisés côté serveur pour faire toutes les actions avec la base de données comme par exemple lister les campagnes ou ajouter un utilisateur.
	
	\section{Librairies}
	\label{lib}
		
		\subsection{API Google Map}
		\label{lib:map}
		Nous avons utilisé l'API Google Map afin d'afficher sur une carte les différent pièges d'une parcelle grâce à différents marqueurs. Cette API pour fonctionner nécessite une clé, mais nous avons réussis à l'utiliser sans. Au lieu d'inclure le script sous la forme \url{https://maps.googleapis.com/maps/api/js?key=GOOGLE_MAP_API_KEY&sensor=false}, nous utilisons \url{http://maps.google.com/maps/api/js?sensor=false}
		
		\subsection{jQuery}
		\label{lib:jquery}
		jQuery est une librairie JavaScript qui permet de manipuler le DOM (Document Object Model), gérer les événements, créer des effets visuels mais aussi d'effectuer des requêtes Ajax.
		
		\subsection{jQuery UI}
		\label{lib:jqueryui}
		jQuery UI est un ensemble de plugins qui permet d'avoir un certain nombre de composant graphique. Nous l'avons utilisé pour mettre en place le datepicker dans les formulaires d'ajout et de modification des campagnes, parcelles et récoltes.
	
		\subsection{jqPlot}
		\label{lib:jqplot}
		jqPlot est un plugin de traçage et de la cartographie pour jQuery. jqPlot produit des graphiques en lignes, bars et camemberts avec de nombreuses fonctionnalités. Cette librairie nous permet d'afficher les graphiques montrant la répartition des différents régimes alimentaires des récoltes d'un piège.
		
		\subsection{Bootstrap}
		\label{lib:bootstrap}
		Bootstrap est une bibliothèque développée et utilisée par Twitter. En plus des feuilles de style CSS, Bootstrap comprend un certain nombre de composants intéressants comme des boutons, des menus, une barre de chargement... Il contient aussi quelques composant JavaScript comme le Carrousel, ce dernier est utilisé pour  afficher les galeries de médias.\\
		
		Le problème majeur que nous avons rencontré avec cette librairie et que la version utilisée à plus d'un an. Nous avons donc essayé de la mettre à jour, notamment les fichier CSS afin d'avoir les derniers effets qui nous n'avons pas. Or, le groupe qui a fait la première version de l'arbre de décision que nous avons intégré à notre projet à tout simplement modifié directement les fichiers CSS de Bootstrap. De ce fait, il nous est impossible de les remplacer par les nouveaux sans casser tout le style actuel du site.
		
		\subsection{Shadowbox}
		\label{lib:shadowbox}
		ShadowBox permet de lire tous type d'objets multimédias (vidéo, son, image) et afficher du HTML dans une fenêtre modale, et aussi profiter de toute la largeur de l'écran.
		
		\subsection{Webcam}
		\label{lib:webcam}
		Un code minimaliste en Flash est inclut dans le site, il nous permet de démarrer la webcam après autorisation de l'utilisateur, et d'afficher à l'écran l'image filmée.
	
	\section{Technologies}
	\label{tec}
	
		\subsection{Ajax}
		\label{tec:ajax}
		Ajax (Asynchronous JavaScript and XML) est utilisé pour récupérer et échanger de façon asynchrone au chargement de la page du contenu sur le serveur. Cette technologie est utilisée pour l'arbre d'identification avec le chargement des questions.
		
		\subsection{Web Storage}
		\label{tec:storage}
		Web Storage est une solution adaptée aux besoins actuels de stockage de données variées, dans le navigateur. C'est aussi une technique plus puissante que les cookies, qui sont limités en taille (quelques Ko contre plusieurs Mo pour Web Storage) et qui engendrent un trafic HTTP supplémentaire pour chaque requête.\\
		
		Web Storage met à disposition deux interfaces nommées \emph{sessionStorage} et \emph{localStorage} dont la seule différence concerne la persistance des données. Ces dernières ne sont plus véhiculées sur le réseau HTTP et elles sont facilement accessibles (lecture, modifications et suppression) pour la programmation en JavaScript.\\
		
		Nous utilisons le Web Storage pour stocker aussi bien l'authentification de l'utilisateur que des données diverses et variées pour le fonctionnement du site. Par exemple, lors d'une identification, la campagne, la parcelle et le piège choisis sont stocker dans le localStorage. Les différentes clés utilisées pour stocker ces informations sont dans le fichier \emph{variable.php}

\chapter{Analyse Critique}

	\section{Du projet}
	
	Dire ce qui est bien, cool dans se qu'on a fait et les points qui peuvent être améliorés
	
	\section{Améliorations}
	
	Donner les points à améliorer pour les prochains projets

\chapter{Conclusion}

\annexes

\end{document}

